# Показивачи и низови

Научио си већ да манипулишеш низовима на уобичајени начин, приступањем елементима низа помоћу индекса. На пример, ако декларишемо низ a[10], то значи да смо резервисали 10 меморијских локација којима приступамо једноставном петљом:

```text
for(int i = 0; i < 10; i++)
{
...приступ и манипулација елементима низа a[i]
}
```

Елементима низа можеш приступити и помоћу показивача, и то ћемо показати на следећем примеру:

Дефинисаћемо статички низ а[] = {7, 12, 36, 4, 18}.

На основу дефиниција и правила сабирања показивача и целих бројева, могу се
извести следеће еквиваленције:

``&a[i] ⬄ a + i``, адреса ``i + 1`` елемента низа, односно елемента са индексом ``i``. 
Сходно томе, ако у претходном изразу индексу ``i`` доделимо вредност нула, добијамо да
је адреса првог елемента низа:

```text
&a[0] ⬄ a
```

Употребом  оператора за индиректан приступ (дереференцирање) *,  можемо извести
израз за читање вредности елемената низа:

```text
a[i] = *(a + i)
```

```{infonote}
Само име низа, у овом случају ``а``, представља адресу првог елемента
низа (адресу елемента са индексом 0).
```

У општем случају, пример кода за приступ елементима низа *n* елемената и налажење
њиховог збира би изгледао:

```c
int i,n;
int a[50], *p, s = 0;
for(p = a; p < а + n; p++) s = s + *p;
```

```{image} images/Picture19.png
:width: 350
:align: center
```

Ово можемо да илуструјемо на једноставном примеру кода за сабирање елемената
низа од 5 елемената:

```c
int i,n;
int a[5] = {7, 12, 36, 4, 18}, *p, s = 0;
for(p = a; p < а + 5; p++) s = s + *p;
```

На почетку, са наредбом p = a показивач добија адресу првог елемента у низу,
односно позиционира се на први елемент низа.

Наредбом p = a показивач се позиционира на први елемент низа, односно добија
вредност његове адресе:

```{image} images/Picture20.png
:width: 350
:align: center
```

Наредбом *р у текућој итерацији (циклусу), индиректним адресирањем, чита се
вредност са те локације и додаје суми: `s = s + *p;`.

Након сваког проласка кроз циклус, наредбом p++ показивач се повећава за један,
чиме указује на следећи елемент низа.

Наредбом p++ показивач указује на следећи елемент низа:

```{image} images/Picture21.png
:width: 350
:align: center
```

Циклус ће се извршавати све док је услов p < а + n испуњен, односно док се показивач
не позиционира на последњи елемент низа.

Циклус се завршава када  показивач укаже на последњи елемент низа:

```{image} images/Picture22.png
:width: 350
:align: center
```

Решење:

```c
#include<stdio.h>
int main(void)
{
    int i, s = 0;
    int a[5] = {7, 12, 36, 4, 18};
    int* p;
    for (p = a; p < a + 5; p++)
        s = s + *p;
    printf("Zbir elemenata niza je %d", s);
	return 0;
}
```

Резултат извршавања програма:

```text
Zbir elemenata niza je 77
```

Сада, користећи стечено знање из показивача, овај задатак можеш решити на мало
другачији начин, користећи индексе.

```c
for(i = 0; i < n; i++) 
  s = s + *(a+i)
```

Објашњење је идентично као и када користимо показивачку променљиву ``р``.

```c
#include<stdio.h>
int main(void)
{
    int i, s = 0;
    int a[5] = {7, 12, 36, 4, 18};
    int* p;
    for (i = 0; i < 5; i++)
        s = s + *(a + i);
    printf("Zbir elemenata niza je %d", s);
	return 0;
}
```

Резултат извршавања програма:

```text
Zbir elemenata niza je 77
```

**Вежбање**

Користећи показиваче и њихову примену у низовима, решићемо неколико задатака из
Методичке збирке задатака која се налази на Петљи. Решења задатака можеш да
тестираш на сајту.

```{infonote}
У називу задатка се налази линк ка задатку, а у загради страна на којој се налази задатак у PDF формату збирке.
```

1. [Испис у обратном редоследу](https://petlja.org/biblioteka/r/Zbirka/ispis_u_obratnom_redosledu)
(246)

```{questionnote}
Написати програм којим се уноси *n* целих бројева, а затим се унети бројеви приказују
у обратном редоследу од редоследа уношења.
```

```c
#include<stdio.h>
int main(void)
{
    int n, i, a[50];
    printf("Unesi broj elemenata niza ");
    scanf("%d", &n);
    for (i = 0; i < n; i++)
    {
        printf("a[%d] = ", i);
        scanf("%d", a + i);
    }
    printf("\nNiz u obrnutom poretku:\n");
    for (i = n - 1; i >= 0; i--)
        printf("a[%d] = %d    ", i, *(a + i));
    return 0;
}
```

```text
Unesi broj elemenata niza 5
a[0]=23 
a[1]=7 
a[2]=14 
a[3]=37 
a[4]=52

Niz u obrnutom poretku:
a[4]= 52    a[3]= 37    a[2]= 14    a[1]= 7    a[0]= 23
```

```{infonote}
Ово је био типичан школски пример. У тест примерима због ограничења меморије и времена извршења задатка, програм  се своди на учитавање података са стандардног улаза и исписивање на стандардни излаз без „сувишног“ текста. 
```

Тако урађен претходни задатак би изгледао...

```c
#include<stdio.h>
int main(void)
{
    int n, i, a[50];
    scanf("%d", &n);
    for (i = 0; i < n; i++)
        scanf("%d", a + i);
    for (i = n - 1; i >= 0; i--)
        printf("%d\n", *(a + i));
    return 0;
}
```

...или, користећи показивачку променљиву ``р``:

```c
#include<stdio.h>
int main(void)
{
    int n, i, a[50];
    int* p;
    scanf("%d", &n);
    for (p = a; p < a + n; p++)
        scanf("%d", p);
    for (p = a + n - 1; p >= a; p--)
        printf("%d\n", *p);
    return 0;
}
```

2. [Најнижа температура](https://petlja.org/biblioteka/r/Zbirka/najmanja_temperatura1) (247)

```{questionnote}
Дате су температуре у неколико градова. Написати програм којим се одређује, колика
је температура у најхладнијем граду.
```

```c
#include<stdio.h>
int main(void)
{
    int n, i, min, a[50];
    scanf("%d", &n);
    for (i = 0; i < n; i++)
        scanf("%d", a + i);
    min = *a;
    for (i = 1; i < n; i++)
    {
        if (*(a + i) < min)
        min = *(a + i);
    }
    printf("%d\n", min);
    return 0;
}
```

3. [Минимално одступање од просека](https://petlja.org/biblioteka/r/Zbirka/minimalno_odstupanje_od_proseka) (249)

```{questionnote}
За дати низ од *n* реалних бројева одредити вредност најмањег апсолутног одступања од
просека вредности унетих бројева (то је најмања апсолутна вредност разлика између
елемената и просека низа).
```

```c
#include<stdio.h>
#include<math.h>
int main(void)
{
    int n, i;
    double prosek, min, s = 0, a[50];
    scanf("%d", &n);
    for (i = 0; i < n; i++)
    {
        scanf("%lf", a + i);
        s += *(a + i);
    }
    prosek = s / n;
    min = fabs(*a - prosek);
    for (i = 1; i < n; i++)
        if (fabs(*(a + i) - prosek) < min)
            min = fabs(*(a + i) - prosek);
    printf("%.2lf", min);
    return 0;
}
```

4. [Разлика сума до маx и од маx](https://petlja.org/biblioteka/r/Zbirka/razlika_suma_do_max_i_od_max) (255)

```{questionnote}
Уносе се масе предмета, одредити разлику суме маса предмета до првог појављивања
предмета највеће масе и суме маса предмета после првог појављивања предмета
највеће масе (предмет највеће масе није укуључен ни у једну суму).
```

```c
#include<stdio.h>
int main(void)
{
    int n, i, j, max, a[50];
    int s1 = 0, s2 = 0;
    scanf("%d", &n);
    scanf("%d", a);
    max = *a;
    for (i = 1; i < n; i++)
    {
        scanf("%d", a + i);
        if (*(a + i) > max)
        {
            max = *(a + i);
            j = i;
        }
    }
    for (i = 0; i < n && i < j; i++)
        s1 = s1 + *(a + i);
    for (i = j + 1; i < n; i++)
        s2 = s2 + *(a + i);
    printf("%d", s1 - s2);
    return 0;
}
```

5. [Максимална разлика суседних](https://petlja.org/biblioteka/r/Zbirka/maksimalna_razlika_susednih1) (275)

```{questionnote}
Написати програм којим се за n учитаних целих бројева одређује по апсолутној
вредности највећа разлика два суседна елемента.
```

```c
#include<stdio.h>
#include<math.h>
int main(void)
{
    int n, i, j, max, a[50];
    scanf("%d", &n);
    for (i = 0; i < n; i++)
        scanf("%d", a + i);
    max = abs(*a - *(a + 1));
    for (i = 1; i < n - 1; i++)
        if (abs(*(a + i) - *(a + i + 1)) > max)
            max = abs(*(a + i) - *(a + i + 1));
    printf("%d", max);
    return 0;
}
```
