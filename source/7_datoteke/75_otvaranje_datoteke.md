# Отварање датотеке

Датотекама се приступа коришћењем показивача на структуру FILE која је дефинисана у датотеци stdio.h. 

Име показивача може бити произвољно, али ми ћемо најчешће користити име које означава ток података, ulaz, односно izlaz. У загради су дати  називи показивача који се врло често могу наћи у стручној литератури – in, односно out.

Пример: 

```c
FILE *ulaz (*in), *izlaz (*out);
```
У случају да учитавамо податке из датотеке у програм, односно ако нам је датотека извор података, писаћемо 

```c
FILE *ulaz;
```

Ако излазне податке из програма уписујемо у датотеку, показивач ћемо декларисати као 
```c
FILE *izlaz;
```

Да би се извршила нека операција са датотеком, датотека мора бити отворена позивањем функције `fopen`. 
Њен општи облик је `fopen(“fajl koji se otvara“, rezim)`.

Ако се датотека налази у истом фолдеру са извршним програмом, “fajl koji se otvara“ садржи име датотеке, на пример “proba.txt”. Рекли смо да се овде користи релативна путања.

Ако се датотека налази у неком другом фолдеру рачунара, што је ређи случај, наводи се апсолутна путања до ње, на пример “C:&#92;&#92;&#92;&#92;Users&#92;&#92;&#92;&#92;Rаcunar1&#92;&#92;&#92;&#92;Programiranje&#92;&#92;&#92;&#92;proba.txt”. 

```{questionnote}
Подсети се зашто се користе две обрнуте косе црте, а не само једна?
```

**Режим** означава начин коришћења датотеке.

За упис у датотеку користићемо режим "w" (енгл. *write mode*), а за читање из датотеке "r"(енгл. *read mode*). Ако се додаје неки садржај, користи се режим "a" (енгл. *append mode*).

Да би се ажурирао садржај датотеке (наизменично читање и писање), претходним ознакама се додаје знак +, независно од основног режима рада. 

**Дакле, да сумирамо!**

 Текстуалне датотеке могу да се отворе за:
- r (*read*), само за читање. Датотека мора постојати;
- w (*write*), само за писање. Ако датотека постоји, брише се њен садржај;
- a (*append*), за дописивање на крај датотеке. Ако датотека не постоји, формира се нова;
- r+, за читање и писање у постојећој датотеци;
- w+, за читање и писање у новој датотеци;
- a+, за читање и дописивање на крај датотеке.

**Да наставимо!**

Функција `fopen` враћа показивач на структуру FILE који се додељује променљивој истог типа. 

Пример:

```c
ulaz = fopen("naziv_datoteke.txt", "r"); 
izlaz = fopen("naziv_datoteke.txt", "w");
```

У случају неуспешног отварања `fopen` враћа вредност NULL. 

Из тог разлога неопходно је испитати враћену вредност, односно додати исказ: 
```c
if (ulaz == NULL) printf ("Greska pri otvaranju fajla!"), или
if (izlaz == NULL) printf ("Greska pri otvaranju fajla!").
```


